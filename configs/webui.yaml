# Solace Agent Mesh WebUI Gateway Configuration
# Based on preset/agents/basic/webui.yaml - KEEP ALL SECTIONS

log:
  stdout_log_level: INFO
  log_file_level: DEBUG
  log_file: webui_app.log

# Shared SAM config
!include shared_config.yaml

apps:
  - name: a2a_webui_app
    app_base_path: .
    app_module: solace_agent_mesh.gateway.http_sse.app

    broker:
      <<: *broker_connection

    app_config:
      namespace: ${NAMESPACE, sam/}
      session_secret_key: "${SESSION_SECRET_KEY, change-me-in-production}"

      session_service:
        type: "${PERSISTENCE_TYPE, sql}"
        database_url: "${WEB_UI_GATEWAY_DATABASE_URL, sqlite:///webui-gateway.db}"
        default_behavior: "PERSISTENT"

      platform_service:
        database_url: "${PLATFORM_DATABASE_URL, sqlite:///platform.db}"

      artifact_service: *default_artifact_service

      model: *general_model

      gateway_id: ${WEBUI_GATEWAY_ID, webui-gateway}
      fastapi_host: ${FASTAPI_HOST, 0.0.0.0}
      fastapi_port: ${FASTAPI_PORT, 8000}

      enable_embed_resolution: ${ENABLE_EMBED_RESOLUTION, true}
      gateway_artifact_content_limit_bytes: ${GATEWAY_ARTIFACT_LIMIT_BYTES, 10000000}
      sse_max_queue_size: ${SSE_MAX_QUEUE_SIZE, 200}

      system_purpose: >
            The system is an AI Chatbot with agentic capabilities.
            It will use the agents available to provide information,
            reasoning and general assistance for the users in this system.
            **Always return useful artifacts and files that you create to the user.**
            Provide a status update before each tool call.
            Your external name is Agent Mesh.

      response_format: >
            Responses should be clear, concise, and professionally toned.
            Format responses to the user in Markdown using appropriate formatting.

      # Frontend Config
      frontend_welcome_message: ${FRONTEND_WELCOME_MESSAGE, "Hello, how can I assist you?"}
      frontend_bot_name: ${FRONTEND_BOT_NAME, Solace Agent Mesh}
      frontend_collect_feedback: ${FRONTEND_COLLECT_FEEDBACK, false}
      frontend_logo_url: "${WEBUI_FRONTEND_LOGO_URL,}"
