# ============================================
# SAM Hackathon Quickstart - Environment Variables
# ============================================
# Copy this file to .env and update values for your environment

# =====================
# REQUIRED
# =====================

# LLM Provider Configuration - see docs/llm-setup.md for free options
LLM_SERVICE_API_KEY=your-api-key
LLM_SERVICE_ENDPOINT=https://api.cerebras.ai/v1
LLM_SERVICE_PLANNING_MODEL_NAME=openai/zai-glm-4.7
LLM_SERVICE_GENERAL_MODEL_NAME=openai/zai-glm-4.7

# SAM Dev Mode - uses in-memory broker
SOLACE_DEV_MODE=true

# =====================
# OPTIONAL: Persistence via Supabase (free tier available)
# =====================
# Session/state: SQLite by default, lost on restart unless volume-mounted or using PostgreSQL
# Artifacts: In-memory by default, always lost on restart - requires S3 to persist

# --- Session/Database Persistence (PostgreSQL) ---
# Set PERSISTENCE_TYPE=sql to enable database persistence
# WebUI and agents need SEPARATE databases (different Alembic migrations)
# Most platforms require IPv4 - use Supabase Session pooler (not direct connection)
# Create databases first: docker run --rm postgres:18 psql "CONNECTION_STRING" -c "CREATE DATABASE sam_webui; CREATE DATABASE sam_agents;"
# NOTE: Use postgresql+psycopg2:// prefix for SAM compatibility

# PERSISTENCE_TYPE=sql
# WEB_UI_GATEWAY_DATABASE_URL=postgresql+psycopg2://postgres.PROJECT:PASSWORD@POOLER-HOST:5432/sam_webui
# ORCHESTRATOR_DATABASE_URL=postgresql+psycopg2://postgres.PROJECT:PASSWORD@POOLER-HOST:5432/sam_agents
# CUSTOM_AGENT_DATABASE_URL=postgresql+psycopg2://postgres.PROJECT:PASSWORD@POOLER-HOST:5432/sam_agents

# --- Artifact Persistence (S3-compatible) ---
# Set ARTIFACT_SERVICE_TYPE=s3 to enable S3 storage
# Get credentials: Supabase Dashboard → Storage → S3 Connection

# ARTIFACT_SERVICE_TYPE=s3
# S3_BUCKET_NAME=sam-artifacts
# S3_ENDPOINT_URL=https://PROJECT.storage.supabase.co/storage/v1/s3
# S3_REGION=<from Supabase S3 Connection page>
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

